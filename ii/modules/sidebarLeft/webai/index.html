<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Web AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html, body { height: 100%; }
    </style>
  </head>
  <body class="h-full bg-slate-900 text-slate-100">
    <div id="app" class="h-full flex flex-col">
      <header class="px-3 py-2 bg-slate-800/70 border-b border-slate-700 flex items-center gap-2">
        <div class="font-semibold">AI</div>
        <div id="status" class="text-xs text-slate-400"></div>
        <div class="ml-auto flex items-center gap-2">
          <button id="reload" class="px-2 py-1 text-xs bg-slate-700 rounded hover:bg-slate-600">Reload</button>
          <button id="openExternal" class="px-2 py-1 text-xs bg-slate-700 rounded hover:bg-slate-600 hidden">Open</button>
        </div>
      </header>

      <main id="chat" class="flex-1 overflow-auto p-3 space-y-3">
        <!-- Messages will be appended here -->
      </main>

      <footer class="border-t border-slate-700 p-3">
        <form id="composer" class="flex gap-2">
          <textarea id="input" rows="2" class="flex-1 resize-none rounded bg-slate-800 border border-slate-700 p-2 outline-none focus:border-slate-500" placeholder="Message the modelâ€¦"></textarea>
          <button class="px-3 py-2 bg-indigo-600 rounded text-white disabled:opacity-50" id="send" type="submit">Send</button>
        </form>
        <div class="text-[11px] text-slate-400 mt-1">Tip: text is fully selectable; use Ctrl+C to copy.</div>
      </footer>
    </div>

    <script>
      const chat = document.getElementById('chat');
      const form = document.getElementById('composer');
      const input = document.getElementById('input');
      const sendBtn = document.getElementById('send');
      const reloadBtn = document.getElementById('reload');
      const status = document.getElementById('status');

      function addMessage(text, who) {
        const wrap = document.createElement('div');
        wrap.className = `rounded p-2 ${who === 'user' ? 'bg-slate-800' : 'bg-slate-800/70'} border border-slate-700`;
        wrap.innerText = text;
        chat.appendChild(wrap);
        chat.scrollTop = chat.scrollHeight;
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const text = input.value.trim();
        if (!text) return;
        input.value = '';
        addMessage(text, 'user');
        // TODO: wire to your backend here. Example echoes back:
        setTimeout(() => addMessage('Echo: ' + text, 'assistant'), 300);
      });

      reloadBtn.addEventListener('click', () => location.reload());
      status.textContent = '';
    </script>
  </body>
</html>
